/*
formBuilder - https://formbuilder.online/
Version: 1.24.3
Author: Kevin Chappell <kevin.b.chappell@gmail.com>
*/
!function e(t,a,r){function n(o,l){if(!a[o]){if(!t[o]){var i="function"==typeof require&&require;if(!l&&i)return i(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=a[o]={exports:{}};t[o][0].call(d.exports,function(e){var a=t[o][1][e];return n(a?a:e)},d,d.exports,e,t,a,r)}return a[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(e,t,a){"use strict";var r={};r.loaded=new Event("loaded"),r.viewData=new Event("viewData"),r.userDeclined=new Event("userDeclined"),r.modalClosed=new Event("modalClosed"),r.modalOpened=new Event("modalOpened"),r.formSaved=new Event("formSaved"),r.fieldAdded=new Event("fieldAdded"),r.fieldRemoved=new Event("fieldRemoved"),t.exports=r},{}],2:[function(e,t,a){"use strict";e("./kc-toggle.js"),e("./polyfills.js"),function(t){var a=function(a,r){function n(e,t){var a=[];for(var r in e)if(e.hasOwnProperty(r)){var n=p.messages[r],l=e[r].value;e[r].value=t[r]||e[r].value||"",e[r].label&&(p.messages[r]=e[r].label),e[r].options?a.push(o(r,e[r])):a.push(s(r,e[r])),p.messages[r]=n,e[r].value=l}return a.join("")}function s(e,t){var a={id:e+"-"+v,title:t.description||t.label||e.toUpperCase(),name:e,type:t.type||"text",className:["fld-"+e]},r='<label for="'+a.id+'">'+p.messages[e]+"</label>";d.inArray(a.type,["checkbox","checkbox-group","radio-group"])||a.className.push("form-control"),a=Object.assign({},t,a);var n="<input "+d.attrString(a)+">",s='<div class="input-wrap">'+n+"</div>";return'<div class="form-group '+e+'-wrap">'+r+s+"</div>"}function o(e,t){var a=Object.keys(t.options).map(function(e){var a={value:e};return e===t.value&&(a.selected=null),"<option "+d.attrString(a)+">"+t.options[e]+"</option>"}),r={id:e+"-"+v,title:t.description||t.label||e.toUpperCase(),name:e,className:"fld-"+e+" form-control"},n='<label for="'+r.id+'">'+p.messages[e]+"</label>";Object.keys(t).filter(function(e){return!d.inArray(e,["value","options","label"])}).forEach(function(e){r[e]=t[e]});var s="<select "+d.attrString(r)+">"+a.join("")+"</select>",o='<div class="input-wrap">'+s+"</div>";return'<div class="form-group '+e+'-wrap">'+n+o+"</div>"}var l=this,i=this,c={controlPosition:"right",controlOrder:["autocomplete","button","checkbox","checkbox-group","date","file","header","hidden","paragraph","number","radio-group","select","text","textarea"],dataType:"xml",disableFields:[],editOnAdd:!1,append:!1,prepend:!1,defaultFields:[],inputSets:[],fieldRemoveWarn:!1,roles:{1:"Administrator"},messages:{addOption:"Add Option +",allFieldsRemoved:"All fields were removed.",allowSelect:"Allow Select",allowMultipleFiles:"Allow users to upload multiple files",autocomplete:"Autocomplete",button:"Button",cannotBeEmpty:"This field cannot be empty",checkboxGroup:"Checkbox Group",checkbox:"Checkbox",checkboxes:"Checkboxes",className:"Class",clearAllMessage:"Are you sure you want to clear all fields?",clearAll:"Clear",close:"Close",content:"Content",copy:"Copy To Clipboard",copyButton:"&#43;",copyButtonTooltip:"Copy",dateField:"Date Field",description:"Help Text",descriptionField:"Description",devMode:"Developer Mode",editNames:"Edit Names",editorTitle:"Form Elements",editXML:"Edit XML",enableOther:"Enable &quot;Other&quot;",enableOtherMsg:"Let users to enter an unlisted option",fieldDeleteWarning:!1,fieldVars:"Field Variables",fieldNonEditable:"This field cannot be edited.",fieldRemoveWarning:"Are you sure you want to remove this field?",fileUpload:"File Upload",formUpdated:"Form Updated",getStarted:"Drag a field from the right to this area",header:"Header",hide:"Edit",hidden:"Hidden Input",label:"Label",labelEmpty:"Field Label cannot be empty",limitRole:"Limit access to one or more of the following roles:",mandatory:"Mandatory",maxlength:"Max Length",minOptionMessage:"This field requires a minimum of 2 options",multipleFiles:"Multiple Files",name:"Name",no:"No",number:"Number",off:"Off",on:"On",option:"Option",optional:"optional",optionLabelPlaceholder:"Label",optionValuePlaceholder:"Value",optionEmpty:"Option value required",other:"Other",paragraph:"Paragraph",placeholder:"Placeholder",placeholders:{value:"Value",label:"Label",text:"",textarea:"",email:"Enter you email",placeholder:"",className:"space separated classes",password:"Enter your password"},preview:"Preview",radioGroup:"Radio Group",radio:"Radio",removeMessage:"Remove Element",removeOption:"Remove Option",remove:"&#215;",required:"Required",richText:"Rich Text Editor",roles:"Access",save:"Save",selectOptions:"Options",select:"Select",selectColor:"Select Color",selectionsMessage:"Allow Multiple Selections",size:"Size",sizes:{xs:"Extra Small",sm:"Small",m:"Default",lg:"Large"},style:"Style",styles:{btn:{default:"Default",danger:"Danger",info:"Info",primary:"Primary",success:"Success",warning:"Warning"}},subtype:"Type",text:"Text Field",textArea:"Text Area",toggle:"Toggle",warning:"Warning!",value:"Value",viewJSON:"{  }",viewXML:"&lt;/&gt;",yes:"Yes"},notify:{error:function(e){return console.error(e)},success:function(e){return console.log(e)},warning:function(e){return console.warn(e)}},sortableControls:!1,stickyControls:!1,showActionButtons:!0,typeUserAttrs:{},typeUserEvents:{},prefix:"form-builder-"},d=e("./utils.js");c.messages.subtypes=function(){var e=function(e){return{label:e,value:e}};return{text:["text","password","email","color","tel"].map(e),header:["h1","h2","h3"].map(e),button:["button","submit","reset"].map(e),paragraph:["p","address","blockquote","canvas","output"].map(e)}}();var p=Object.assign({},c,a),u="frmb-"+t("ul[id^=frmb-]").length++;a.messages&&(p.messages=Object.assign({},c.messages,a.messages)),p.formID=u,i.element=r;var m=t("<ul/>").attr("id",u).addClass("frmb"),f=e("./helpers.js")(p,i);i.layout=f.editorLayout(p.controlPosition);var v=u+"-fld-1",g=u+"-control-box",h=[{label:p.messages.autocomplete,attrs:{type:"autocomplete",className:"autocomplete",name:"autocomplete"}},{label:p.messages.button,attrs:{type:"button",className:"button-input",name:"button"}},{label:p.messages.checkbox,attrs:{type:"checkbox",className:"checkbox",name:"checkbox"}},{label:p.messages.checkboxGroup,attrs:{type:"checkbox-group",className:"checkbox-group",name:"checkbox-group"}},{label:p.messages.dateField,attrs:{type:"date",className:"calendar",name:"date-input"}},{label:p.messages.fileUpload,attrs:{type:"file",className:"file-input",name:"file-input"}},{label:p.messages.header,attrs:{type:"header",className:"header"}},{label:p.messages.hidden,attrs:{type:"hidden",className:"hidden-input",name:"hidden-input"}},{label:p.messages.number,attrs:{type:"number",className:"number",name:"number"}},{label:p.messages.paragraph,attrs:{type:"paragraph",className:"paragraph"}},{label:p.messages.radioGroup,attrs:{type:"radio-group",className:"radio-group",name:"radio-group"}},{label:p.messages.select,attrs:{type:"select",className:"select",name:"select"}},{label:p.messages.text,attrs:{type:"text",className:"text-input",name:"text-input"}},{label:p.messages.textArea,attrs:{type:"textarea",className:"text-area",name:"textarea"}}];h=f.orderFields(h),p.disableFields&&(h=h.filter(function(e){return!d.inArray(e.attrs.type,p.disableFields)}));var b=d.markup("ul",null,{id:g,className:"frmb-control"});p.sortableControls&&b.classList.add("sort-enabled");var y=t(b);d.forEach(h,function(e){var a=t("<li/>",{class:"icon-"+h[e].attrs.className,type:h[e].type,name:h[e].className,label:h[e].label});a.data("newFieldData",h[e]);var r=d.markup("span",h[e].label);a.html(r).appendTo(y)}),p.inputSets.length&&(t("<li/>",{class:"fb-separator"}).html("<hr>").appendTo(y),p.inputSets.forEach(function(e){e.name=e.name||f.makeClassName(e.label);var a=t("<li/>",{class:"input-set-control",type:e.name});a.html(e.label).appendTo(y)})),m.sortable({cursor:"move",opacity:.9,revert:150,beforeStop:f.beforeStop,start:f.startMoving,stop:f.stopMoving,cancel:"input, select, .disabled, .form-group, .btn",placeholder:"frmb-placeholder"}),y.sortable({helper:"clone",opacity:.9,connectWith:m,cancel:".fb-separator",cursor:"move",scroll:!1,placeholder:"ui-state-highlight",start:f.startMoving,stop:f.stopMoving,revert:150,beforeStop:f.beforeStop,distance:3,update:function(e,t){return!f.doCancel&&void(t.item.parent()[0]===m[0]?(w(t.item),f.doCancel=!0):(f.setFieldOrder(y),f.doCancel=!p.sortableControls))}});var w=function(e){if(e[0].classList.contains("input-set-control")){var t=p.inputSets.filter(function(t){return t.name===e[0].type})[0];if(t.showHeader){var a={type:"header",subtype:"h2",id:t.name,label:t.label};D(a,!0)}t.fields.forEach(function(e){D(e,!0)})}else D(e,!0)},k=t("<div/>",{id:u+"-form-wrap",class:"form-wrap form-builder"+f.mobileClass()}),x=t("<div/>",{id:u+"-stage-wrap",class:"stage-wrap "+i.layout.stage}),N=t("<div/>",{id:u+"-cb-wrap",class:"cb-wrap "+i.layout.controls}).append(y[0]);if(p.showActionButtons){var E=void 0;E="xml"===p.dataType?p.messages.viewXML:p.messages.viewJSON;var A=d.markup("button",E,{id:u+"-view-data",type:"button",className:"view-data btn btn-default"}),C=d.markup("button",p.messages.clearAll,{id:u+"-clear-all",type:"button",className:"clear-all btn btn-default"}),O=d.markup("button",p.messages.save,{className:"btn btn-primary "+p.prefix+"save",id:u+"-save",type:"button"}),S=d.markup("div",[C,A,O],{className:"form-actions btn-group"});N.append(S)}x.append(m,N),x.before(k),k.append(x,N),t(r).append(k);var T=f.debounce(function(e){if(e){if("keyup"===e.type&&"className"===e.target.name)return!1;var a=t(e.target).closest(".form-field");f.updatePreview(a),f.save()}});m.on("change blur keyup",".form-elements input, .form-elements select, .form-elements textarea",T),t("li",y).click(function(e){var a=t(e.target).closest(".ui-sortable-handle");f.stopIndex=void 0,w(a),f.save()});var j=function(){var e=[];if(p.prepend&&!t(".disabled.prepend",m).length){var a=d.markup("li",p.prepend,{className:"disabled prepend"});e.push(!0),m.prepend(a)}if(p.append&&!t(".disabled.append",m).length){var r=d.markup("li",p.append,{className:"disabled append"});e.push(!0),m.append(r)}e.some(function(e){return e===!0})&&x.removeClass("empty")},D=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};if(e instanceof jQuery){var n=e.data("newFieldData");if(n)r=n.attrs,r.label=n.label;else{var s=e[0].attributes;a||(r.values=e.children().map(function(e,a){return{label:t(a).text(),value:t(a).attr("value"),selected:Boolean(t(a).attr("selected"))}}));for(var o=s.length-1;o>=0;o--)r[s[o].name]=s[o].value}}else r=Object.assign({},e);r.name=a?$(r):r.name||$(r),a&&d.inArray(r.type,["text","number","file","select","textarea"])?r.className="form-control":r.className=r.class||r.className;var l=/(?:^|\s)btn-(.*?)(?:\s|$)/g.exec(r.className);l&&(r.style=l[1]),d.escapeAttrs(r),H(r),a&&document.dispatchEvent(i.events.fieldAdded),x.removeClass("empty")},M=function(){var e=i.formData;if(e&&e.length){for(var a=0;a<e.length;a++)D(e[a]);x.removeClass("empty")}else p.defaultFields&&p.defaultFields.length?(p.defaultFields.forEach(function(e){return D(e)}),x.removeClass("empty")):p.prepend||p.append||x.addClass("empty").attr("data-content",p.messages.getStarted);f.save();var r=t("li.form-field:not(.disabled)",m);r.each(function(e){return f.updatePreview(t(r[e]))}),j()};m.on("mousemove","li.disabled",function(e){t(".frmb-tt",l).css({left:e.offsetX-16,top:e.offsetY-34})}),m.on("mouseenter","li.disabled",function(e){return f.disabledTT.add(t(l))}),m.on("mouseleave","li.disabled",function(e){return f.disabledTT.remove(t(l))});var $=function(e){var t=(new Date).getTime();return e.type+"-"+t},I=function e(t){var a=[d.markup("a",p.messages.addOption,{className:"add add-opt"})],e=['<label class="false-label">'+p.messages.selectOptions+"</label>"],r=t.multiple||"checkbox-group"===t.type;return t.values&&t.values.length?t.values.forEach(function(e){return Object.assign({},{selected:!1},e)}):(t.values=[1,2,3].map(function(e){var t=p.messages.option+" "+e,a={selected:!1,label:t,value:d.hyphenCase(t)};return a}),t.values[0].selected=!0),e.push('<div class="sortable-options-wrap">'),e.push('<ol class="sortable-options">'),d.forEach(t.values,function(a){e.push(z(t.name,t.values[a],r))}),e.push("</ol>"),e.push(d.markup("div",a,{className:"option-actions"}).outerHTML),e.push("</div>"),d.markup("div",e.join(""),{className:"form-group field-options"}).outerHTML},L=function e(t){var e=[],a=void 0,r=["select","checkbox-group","radio-group"],s=function(){return r.indexOf(t.type)!==-1}(),o=!d.inArray(t.type,["header","paragraph","file"].concat(r)),l=void 0!==t.role?t.role.split(","):[];if(e.push(R(t)),"checkbox"===t.type&&e.push(q("toggle",t,{first:p.messages.toggle})),e.push(P("label",t)),t.size=t.size||"m",t.style=t.style||"default",d.inArray(t.type,["header","paragraph","button"])||e.push(P("description",t)),p.messages.subtypes[t.type]){var i=p.messages.subtypes[t.type];e.push(U("subtype",t,i))}if("button"===t.type&&e.push(B(t.style,t.type)),"number"===t.type&&(e.push(F("min",t)),e.push(F("max",t)),e.push(F("step",t))),e.push(P("placeholder",t)),"textarea"===t.type&&e.push(F("rows",t)),e.push(P("className",t)),e.push(P("name",t)),o&&e.push(P("value",t)),"file"===t.type){var c={first:p.messages.multipleFiles,second:p.messages.allowMultipleFiles};e.push(q("multiple",t,c))}var u=void 0!==t.role?'style="display:block"':"",m=['<div class="available-roles" '+u+">"];for(a in p.roles)if(p.roles.hasOwnProperty(a)){var f=d.inArray(a,l)?"checked":"",g="fld-"+v+"-roles-"+a;m.push('<input type="checkbox" name="roles[]" value="'+a+'" id="'+g+'" '+f+' class="roles-field" /> <label for="'+g+'">'+p.roles[a]+"</label><br/>")}m.push("</div>");var h={first:p.messages.roles,second:p.messages.limitRole,content:m.join("")};return e.push(q("access",t,h)),"checkbox-group"!==t.type&&"radio-group"!==t.type||e.push(q("other",t,{first:p.messages.enableOther,second:p.messages.enableOtherMsg})),"select"===t.type&&e.push(q("multiple",t,{first:" ",second:p.messages.selectionsMessage})),s&&e.push(I(t)),d.inArray(t.type,["text","textarea"])&&e.push(F("maxlength",t)),p.typeUserAttrs[t.type]&&e.push(n(p.typeUserAttrs[t.type],t)),e.join("")},q=function(e,t,a){if(!p.typeUserAttrs[t.type]||!p.typeUserAttrs[t.type][e]){var r=function(t){return'<label for="'+e+"-"+v+'">'+t+"</label>"},n=void 0!==t[e]?"checked":"",s='<input type="checkbox" class="fld-'+e+'" name="'+e+'" value="true" '+n+' id="'+e+"-"+v+'"/> ',o=[],l=[s];return a.first&&o.unshift(r(a.first)),a.second&&l.push(r(a.second)),a.content&&l.push(a.content),l.unshift('<div class="input-wrap">'),l.push("</div>"),'<div class="form-group '+e+'-wrap">'+o.concat(l).join("")+"</div>"}},B=function(e,t){var a={button:"btn"},r=p.messages.styles[a[t]],n="";if(r){var s="<label>"+p.messages.style+"</label>";n+='<input value="'+e+'" name="style" type="hidden" class="btn-style">',n+='<div class="btn-group" role="group">',Object.keys(p.messages.styles[a[t]]).forEach(function(r){var s=e===r?"active":"";n+='<button value="'+r+'" type="'+t+'" class="'+s+" btn-xs "+a[t]+" "+a[t]+"-"+r+'">'+p.messages.styles[a[t]][r]+"</button>"}),n+="</div>",n='<div class="form-group style-wrap">'+s+" "+n+"</div>"}return n},F=function e(t,a){if(!p.typeUserAttrs[a.type]||!p.typeUserAttrs[a.type][t]){var r=a[t],n=p.messages[t]||t,s=p.messages.placeholders[t],o={type:"number",value:r,name:t,min:"0",placeholder:s,className:"fld-"+t+" form-control",id:t+"-"+v},e="<input "+d.attrString(d.trimObj(o))+">",l='<div class="input-wrap">'+e+"</div>";return'<div class="form-group '+t+'-wrap"><label for="'+o.id+'">'+n+"</label> "+l+"</div>"}},U=function(e,t,a){if(!p.typeUserAttrs[t.type]||!p.typeUserAttrs[t.type][e]){var r=a.map(function(a,r){var n=Object.assign({label:p.messages.option+" "+r,value:void 0},a);return a.value===t[e]&&(n.selected=!0),"<option "+d.attrString(d.trimObj(n))+">"+n.label+"</option>"}),n={id:e+"-"+v,name:e,className:"fld-"+e+" form-control"},s='<label for="'+n.id+'">'+(p.messages[e]||d.capitalize(e))+"</label>",o="<select "+d.attrString(n)+">"+r.join("")+"</select>",l='<div class="input-wrap">'+o+"</div>";return'<div class="form-group '+n.name+'-wrap">'+s+l+"</div>"}},P=function(e,t){if(!p.typeUserAttrs[t.type]||!p.typeUserAttrs[t.type][e]){var a=["text","textarea","select"],r=["header"],n=["paragraph"],s=t[e]||"",o=p.messages[e];"label"===e&&d.inArray(t.type,n)&&(o=p.messages.content),r=r.concat(p.messages.subtypes.header,n);var l=p.messages.placeholders,i=l[e]||"",c="",u=[];if("placeholder"!==e||d.inArray(t.type,a)||u.push(!0),"name"===e&&d.inArray(t.type,r)&&u.push(!0),!u.some(function(e){return e===!0})){var m={name:e,placeholder:i,className:"fld-"+e+" form-control",id:e+"-"+v},f='<label for="'+m.id+'">'+o+"</label>";"label"===e&&d.inArray(t.type,n)||"value"===e&&"textarea"===t.type?c+="<textarea "+d.attrString(m)+">"+s+"</textarea>":(m.value=s,m.type="text",c+="<input "+d.attrString(m)+">");var g='<div class="input-wrap">'+c+"</div>";c='<div class="form-group '+e+'-wrap">'+f+" "+g+"</div>"}return c}},R=function(e){var t=["header","paragraph","button"],a=[],r="";return d.inArray(e.type,t)&&a.push(!0),a.some(function(e){return e===!0})||(r=q("required",e,{first:p.messages.required})),r},H=function(e){var a=e.type||"text",r=e.label||p.messages[a]||p.messages.label,n=d.markup("a",p.messages.remove,{id:"del_"+v,className:"del-button btn delete-confirm",title:p.messages.removeMessage}),s=d.markup("a",null,{id:v+"-edit",className:"toggle-form btn icon-pencil",title:p.messages.hide}),o=d.markup("a",p.messages.copyButton,{id:v+"-copy",className:"copy-button btn icon-copy",title:p.messages.copyButtonTooltip}),l=d.markup("div",[s,o,n],{className:"field-actions"}).outerHTML;l+='<label class="field-label">'+r+"</label>",e.description&&(l+='<span class="tooltip-element" tooltip="'+e.description+'">?</span>');var i=e.required?'style="display:inline"':"";l+='<span class="required-asterisk" '+i+"> *</span>",l+=d.markup("div","",{className:"prev-holder"}).outerHTML,l+='<div id="'+v+'-holder" class="frm-holder">',l+='<div class="form-elements">',l+=L(e),l+=d.markup("a",p.messages.close,{className:"close-field"}).outerHTML,l+="</div>",l+="</div>";var c=d.markup("li",l,{class:a+"-field form-field",type:a,id:v}),u=t(c);u.data("fieldData",{attrs:e}),"undefined"!=typeof f.stopIndex?t("> li",m).eq(f.stopIndex).before(u):m.append(u),t(".sortable-options",u).sortable({update:function(){return f.updatePreview(u)}}),f.updatePreview(u),p.editOnAdd&&(f.closeAllEdit(m),f.toggleEdit(v)),p.typeUserEvents[a]&&p.typeUserEvents[a].onadd&&p.typeUserEvents[a].onadd(c),v=f.incrementId(v)},z=function(e,t,a){var r={selected:a?"checkbox":"radio"},n=["value","label","selected"],s=[],o={selected:!1,label:"",value:""};t=Object.assign(o,t);for(var l=n.length-1;l>=0;l--){var i=n[l];if(t.hasOwnProperty(i)){var c={type:r[i]||"text",class:"option-"+i,value:t[i],name:e+"-option"};p.messages.placeholders[i]&&(c.placeholder=p.messages.placeholders[i]),"selected"===i&&t.selected===!0&&(c.checked=t.selected),s.push(d.markup("input",null,c))}}var u={className:"remove btn",title:p.messages.removeMessage};s.push(d.markup("a",p.messages.remove,u));var m=d.markup("li",s);return m.outerHTML},W=function(e){var a=e.attr("id"),r=e.attr("type"),n=(new Date).getTime(),s=r+"-"+n,o=e.clone();return o.find("[id]").each(function(){this.id=this.id.replace(a,v)}),o.find("[for]").each(function(){this.setAttribute("for",this.getAttribute("for").replace(a,v))}),o.each(function(){t("e:not(.form-elements)").each(function(){var e=this.getAttribute("name");e=e.substring(0,e.lastIndexOf("-")+1),e+=n.toString(),this.setAttribute("name",e)})}),o.find(".form-elements").find(":input").each(function(){if("name"===this.getAttribute("name")){var e=this.getAttribute("value");e=e.substring(0,e.lastIndexOf("-")+1),e+=n.toString(),this.setAttribute("value",e)}}),o.attr("id",v),o.attr("name",s),o.addClass("cloned"),t(".sortable-options",o).sortable(),p.typeUserEvents[r]&&p.typeUserEvents[r].onclone&&p.typeUserEvents[r].onclone(o[0]),v=f.incrementId(v),o};if(m.on("click touchstart",".remove",function(e){var a=t(this).parents(".form-field:eq(0)");e.preventDefault();var r=t(this).parents(".sortable-options:eq(0)").children("li").length;r<=2?p.notify.error("Error: "+p.messages.minOptionMessage):t(this).parent("li").slideUp("250",function(){t(this).remove(),f.updatePreview(a),f.save()})}),m.on("touchstart","input",function(e){var a=t(this);if(e.handled===!0)return!1;if("checkbox"===a.attr("type"))a.trigger("click");else{a.focus();var r=a.val();a.val(r)}}),m.on("click touchstart",".toggle-form, .close-field",function(e){if(e.stopPropagation(),e.preventDefault(),e.handled===!0)return!1;var a=t(e.target).parents(".form-field:eq(0)").attr("id");f.toggleEdit(a),e.handled=!0}),m.on("change",".prev-holder input, .prev-holder select",function(e){if(!e.target.classList.contains("other-option")){var a=t(e.target).closest("li.form-field")[0];d.inArray(a.type,["select","checkbox-group","radio-group"])?a.querySelector('[class="option-value"][value="'+e.target.value+'"]').parentElement.childNodes[0].checked=!0:document.getElementById("value-"+a.id).value=e.target.value,f.save()}}),m.on("keyup change",'[name="label"]',function(e){t(".field-label",t(e.target).closest("li")).text(t(e.target).val())}),m.delegate("input.error","keyup",function(e){t(e.target).removeClass("error")}),m.on("keyup",'input[name="description"]',function(e){var a=t(e.target).parents(".form-field:eq(0)"),r=t(".tooltip-element",a),n=t(e.target).val();if(""!==n)if(r.length)r.attr("tooltip",n).css("display","inline-block");else{var s='<span class="tooltip-element" tooltip="'+n+'">?</span>';t(".field-label",a).after(s)}else r.length&&r.css("display","none")}),m.on("change",".fld-multiple",function(e){var a=e.target.checked?"checkbox":"radio";t(e.target).parents(".form-elements:eq(0)").find(".sortable-options input.option-selected").each(function(){e.target.type=a})}),m.on("blur","input.fld-name",function(e){e.target.value=f.safename(e.target.value),""===e.target.value?t(e.target).addClass("field-error").attr("placeholder",p.messages.cannotBeEmpty):t(e.target).removeClass("field-error")}),m.on("blur","input.fld-maxlength",function(e){e.target.value=f.forceNumber(e.target.value)}),m.on("click touchstart",".icon-copy",function(e){e.preventDefault();var a=t(e.target).parent().parent("li"),r=W(a);r.insertAfter(a),f.updatePreview(r),f.save()}),m.on("click touchstart",".delete-confirm",function(e){e.preventDefault();var a=e.target.getBoundingClientRect(),r=document.body.getBoundingClientRect(),n={pageX:a.left+a.width/2,pageY:a.top-r.top-12},s=t(e.target).parents(".form-field:eq(0)").attr("id"),o=t(document.getElementById(s));if(document.addEventListener("modalClosed",function(){o.removeClass("deleting")},!1),p.fieldRemoveWarn){var l=d.markup("h3",p.messages.warning),i=d.markup("p",p.messages.fieldRemoveWarning);f.confirm([l,i],function(){return f.removeField(s)},n),o.addClass("deleting")}else f.removeField(s)}),m.on("click",".style-wrap button",function(e){var a=t(e.target),r=a.val(),n=a.parent().prev(".btn-style");n.val(r),a.siblings(".btn").removeClass("active"),a.addClass("active"),f.updatePreview(n.closest(".form-field")),f.save()}),m.on("click",".fld-required",function(e){t(e.target).closest(".form-field").find(".required-asterisk").toggle()}),m.on("click","input.fld-access",function(e){var a=t(e.target).closest(".form-field").find(".available-roles"),r=t(e.target);a.slideToggle(250,function(){r.is(":checked")||t('input[type="checkbox"]',a).removeAttr("checked")})}),m.on("click",".add-opt",function(e){e.preventDefault();var a=t(e.target).closest(".field-options"),r=t('[name="multiple"]',a),n=t(".option-selected:eq(0)",a),s=!1;s=r.length?r.prop("checked"):"checkbox"===n.attr("type");var o=n.attr("name");t(".sortable-options",a).append(z(o,!1,s))}),m.on("mouseover mouseout",".remove, .del-button",function(e){return t(e.target).closest(".form-field").toggleClass("delete")}),p.showActionButtons){var X=t(document.getElementById(u+"-view-data"));X.click(function(e){e.preventDefault(),f.showData()});var Y=t(document.getElementById(u+"-clear-all"));Y.click(function(e){var a=t("li.form-field"),r=e.target.getBoundingClientRect(),n=document.body.getBoundingClientRect(),s={pageX:r.left+r.width/2,pageY:r.top-n.top-12};a.length?f.confirm(p.messages.clearAllMessage,function(){f.removeAllfields(),p.notify.success(p.messages.allFieldsRemoved),f.save()},s):f.dialog("There are no fields to clear",s)}),t(document.getElementById(u+"-save")).click(function(e){e.preventDefault(),f.save()})}return f.getData(),M(),m.css("min-height",y.height()),p.stickyControls&&f.stickyControls(m,b),document.dispatchEvent(i.events.loaded),i.actions={clearFields:f.removeAllfields,showData:f.showData,save:f.save,addField:function(e,t){f.stopIndex=m[0].children.length?t:void 0,D(e),document.dispatchEvent(i.events.fieldAdded)},removeField:f.removeField,setData:function(e){f.removeAllfields(),f.getData(e),M()}},i};t.fn.formBuilder=function(e){e||(e={});var r=this;return r.each(function(n){var s=new a(e,r[n]);return t(r[n]).data("formBuilder",s),s})}}(jQuery)},{"./helpers.js":3,"./kc-toggle.js":4,"./polyfills.js":5,"./utils.js":6}],3:[function(e,t,a){"use strict";function r(t,a){var r={doCancel:!1},n=e("./utils.js");return a.events=e("./events.js"),r.makeClassName=function(e){return e=e.replace(/[^\w\s\-]/gi,""),n.hyphenCase(e)},r.mobileClass=function(){var e="";return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=" fb-mobile")}(navigator.userAgent||navigator.vendor||window.opera),e},r.startMoving=function(e,t){t.item.show().addClass("moving"),r.startIndex=$("li",this).index(t.item)},r.stopMoving=function(e,t){t.item.removeClass("moving"),r.doCancel&&($(t.sender).sortable("cancel"),$(this).sortable("cancel")),r.save(),r.doCancel=!1},r.beforeStop=function(e,a){var n=document.getElementById(t.formID),s=n.children.length-1,o=[];r.stopIndex=a.placeholder.index()-1,!t.sortableControls&&a.item.parent().hasClass("frmb-control")&&o.push(!0),t.prepend&&o.push(0===r.stopIndex),t.append&&o.push(r.stopIndex+1===s),r.doCancel=o.some(function(e){return e===!0})},r.safename=function(e){return e.replace(/\s/g,"-").replace(/[^a-zA-Z0-9\-]/g,"").toLowerCase()},r.forceNumber=function(e){return e.replace(/[^0-9]/g,"")},r.initTooltip=function(e){var t=e.find(".tooltip");e.mouseenter(function(){t.outerWidth()>200&&t.addClass("max-width"),t.css("left",e.width()+14),t.stop(!0,!0).fadeIn("fast")}).mouseleave(function(){e.find(".tooltip").stop(!0,!0).fadeOut("fast")}),t.hide()},r.getTypes=function(e){var t={type:e.attr("type")},a=$(".fld-subtype",e).val();return a!==t.type&&(t.subtype=a),t},r.fieldOptionData=function(e){var t=[];return $(".sortable-options li",e).each(function(){var e=$(this),a=$(".option-selected",e).is(":checked"),r={label:$(".option-label",e).val(),value:$(".option-value",e).val()};a&&(r.selected=a),t.push(r)}),t},r.xmlSave=function(e){var t=r.prepData(e),a=["<form-template>\n\t<fields>"];return n.forEach(t,function(e,t){var r=null;if(t.type.match(/(select|checkbox-group|radio-group)/)){for(var s=t.values,o=[],l=0;l<s.length;l++){var i=n.markup("option",s[l].label,s[l]).outerHTML;o.push("\n\t\t\t"+i)}o.push("\n\t\t"),r=o.join(""),delete t.values}var c=n.markup("field",r,t);a.push("\n\t\t"+c.outerHTML)}),a.push("\n\t</fields>\n</form-template>"),a.join("")},r.prepData=function(e){var t=[];return 0!==e.childNodes.length&&n.forEach(e.childNodes,function(e,a){var s=$(a);if(!s.hasClass("disabled")){var o,l;!function(){var e=r.getTypes(s),i=$(".roles-field:checked",a).map(function(){return this.value}).get();$('[class*="fld-"]',a).each(function(){var t=n.camelCase(this.name);e[t]="checkbox"===this.type?this.checked:this.value}),i.length&&(e.role=i.join(",")),e.className=e.className||e.class,o=/(?:^|\s)btn-(.*?)(?:\s|$)/g.exec(e.className),o&&(e.style=o[1]),e=n.trimObj(e),e=n.escapeAttrs(e),l=e.type.match(/(select|checkbox-group|radio-group)/),l&&(e.values=r.fieldOptionData(s)),t.push(e)}()}}),t},r.jsonSave=function(e){return window.JSON.stringify(r.prepData(e),null,"\t")},r.getData=function(e){var r=e||t.formData;if(!r)return!1;var s={xml:function(e){return n.parseXML(e)},json:function(e){return window.JSON.parse(e)}};return a.formData=s[t.dataType](r)||[],a.formData},r.save=function(){var e=document.getElementById(t.formID),n={xml:r.xmlSave,json:r.jsonSave};return a.formData=n[t.dataType](e),document.dispatchEvent(a.events.formSaved),a.formData},r.incrementId=function(e){var t=e.lastIndexOf("-"),a=parseInt(e.substring(t+1))+1,r=e.substring(0,t);return r+"-"+a},r.updatePreview=function(e){var a=e.attr("class");if(a.indexOf("ui-sortable-handle")===-1){var s,o=$(e).attr("type"),l=$(".prev-holder",e),i={type:o};$('[class*="fld-"]',e).each(function(){var e=n.camelCase(this.name);i[e]="checkbox"===this.type?this.checked:this.value});var c=$(".btn-style",e).val();c&&(i.style=c),o.match(/(select|checkbox-group|radio-group)/)&&(i.values=[],i.multiple=$('[name="multiple"]',e).is(":checked"),$(".sortable-options li",e).each(function(){var e={};e.selected=$(".option-selected",this).is(":checked"),e.value=$(".option-value",this).val(),e.label=$(".option-label",this).val(),i.values.push(e)})),i=n.trimObj(i),i.className=r.classNames(e,i),$(".fld-className",e).val(i.className),e.data("fieldData",i),s=n.fieldRender(i,t,!0),l.html(s),$("input[toggle]",l).kcToggle()}},r.debounce=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=this,s=arguments,o=function(){t=null,r||e.apply(n,s)},l=r&&!t;clearTimeout(t),t=setTimeout(o,a),l&&e.apply(n,s)}},r.disabledTT={className:"frmb-tt",add:function(e){var a=t.messages.fieldNonEditable;if(a){var s=n.markup("p",a,{className:r.disabledTT.className});e.append(s)}},remove:function(e){$(".frmb-tt",e).remove()}},r.classNames=function(e,t){var a=void 0,r=t.type,s=t.style,o=e[0].querySelector(".fld-className").value,l=o.split(" "),i={button:"btn",submit:"btn"},c=i[r];if(c){if(s){for(a=0;a<l.length;a++){var d=new RegExp("(?:^|s)"+c+"-(.*?)(?:s|$)+","g"),p=l[a].match(d);
p&&l.splice(a,1)}l.push(c+"-"+s)}l.push(c)}return n.unique(l).join(" ").trim()},r.closeConfirm=function(e,t){e=e||document.getElementsByClassName("form-builder-overlay")[0],t=t||document.getElementsByClassName("form-builder-dialog")[0],e.classList.remove("visible"),t.remove(),e.remove(),document.dispatchEvent(a.events.modalClosed)},r.editorLayout=function(e){var t={left:{stage:"pull-right",controls:"pull-left"},right:{stage:"pull-left",controls:"pull-right"}};return t[e]?t[e]:""},r.showOverlay=function(){var e=n.markup("div",null,{className:"form-builder-overlay"});return document.body.appendChild(e),e.classList.add("visible"),e.onclick=function(){r.closeConfirm(e)},e},r.confirm=function(e,a){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=r.showOverlay(),i=n.markup("button",t.messages.yes,{className:"yes btn btn-success btn-sm"}),c=n.markup("button",t.messages.no,{className:"no btn btn-danger btn-sm"});c.onclick=function(){r.closeConfirm(l)},i.onclick=function(){a(),r.closeConfirm(l)};var d=n.markup("div",[c,i],{className:"button-wrap"});o="form-builder-dialog "+o;var p=n.markup("div",[e,d],{className:o});return s?p.classList.add("positioned"):(s={pageX:Math.max(document.documentElement.clientWidth,window.innerWidth||0)/2,pageY:Math.max(document.documentElement.clientHeight,window.innerHeight||0)/2},p.style.position="fixed"),p.style.left=s.pageX+"px",p.style.top=s.pageY+"px",document.body.appendChild(p),i.focus(),p},r.dialog=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r.showOverlay(),s="form-builder-dialog "+s;var o=n.markup("div",e,{className:s});return t?o.classList.add("positioned"):(t={pageX:Math.max(document.documentElement.clientWidth,window.innerWidth||0)/2,pageY:Math.max(document.documentElement.clientHeight,window.innerHeight||0)/2},o.style.position="fixed"),o.style.left=t.pageX+"px",o.style.top=t.pageY+"px",document.body.appendChild(o),document.dispatchEvent(a.events.modalOpened),s.indexOf("data-dialog")!==-1&&document.dispatchEvent(a.events.viewData),o},r.removeAllfields=function(){var e=document.getElementById(t.formID),a=e.querySelectorAll("li.form-field"),n=$(a),s=[];if(!a.length)return!1;t.prepend&&s.push(!0),t.append&&s.push(!0),s.some(function(e){return e===!0})||(e.parentElement.classList.add("empty"),e.parentElement.dataset.content=t.messages.getStarted),e.classList.add("removing");var o=0;n.each(function(){o+=$(this).outerHeight()+3}),a[0].style.marginTop=-o+"px",setTimeout(function(){n.remove(),document.getElementById(t.formID).classList.remove("removing"),r.save()},400)},r.setFieldOrder=function(e){if(!t.sortableControls)return!1;var a={};e.children().each(function(e,t){a[e]=$(t).data("attrs").type}),window.sessionStorage&&window.sessionStorage.setItem("fieldOrder",window.JSON.stringify(a))},r.orderFields=function(e){var a=!1;if(window.sessionStorage&&(t.sortableControls?a=window.sessionStorage.getItem("fieldOrder"):window.sessionStorage.removeItem("fieldOrder")),a)a=window.JSON.parse(a),a=Object.keys(a).map(function(e){return a[e]});else{var r=t.controlOrder.concat(e.map(function(e){return e.attrs.type}));a=n.unique(r)}var s=[];return a.forEach(function(t){var a=e.filter(function(e){return e.attrs.type===t})[0];s.push(a)}),s.filter(Boolean)},r.closeAllEdit=function(e){var t=$("> li.editing",e),a=$(".toggle-form",e),r=$(".frm-holder",t);a.removeClass("open"),t.removeClass("editing"),r.hide(),$(".prev-holder",t).show()},r.toggleEdit=function(e){var t=document.getElementById(e),a=$(".toggle-form",t),r=$(".frm-holder",t);t.classList.toggle("editing"),a.toggleClass("open"),$(".prev-holder",t).slideToggle(250),r.slideToggle(250)},r.stickyControls=function(e,t){var a=$(t).parent(),r=e.parent(),n=a.width(),s=t.getBoundingClientRect();$(window).scroll(function(){var e=$(this).scrollTop();if(e>r.offset().top){var o={position:"fixed",width:n,top:0,bottom:"auto",right:"auto",left:s.left},l=a.offset(),i=r.offset(),c=l.top+a.height(),d=i.top+r.height();c>d&&l.top!==i.top&&a.css({position:"absolute",top:"auto",bottom:0,right:0,left:"auto"}),(c<d||c===d&&l.top>e)&&a.css(o)}else t.parentElement.removeAttribute("style")})},r.showData=function(){var e=n.escapeHtml(a.formData),s=n.markup("code",e,{className:"formData-"+t.dataType}),o=n.markup("pre",s);r.dialog(o,null,"data-dialog")},r.removeField=function(e){var n=!1,s=document.getElementById(t.formID),o=s.getElementsByClassName("form-field");if(!o.length)return console.warn("No fields to remove"),!1;if(!e){var l=[].slice.call(o).map(function(e){return e.id});console.warn("fieldID required to use `removeField` action."),console.warn("Available IDs: "+l.join(", "))}var i=document.getElementById(e),c=$(i);return i?(c.slideUp(250,function(){if(c.removeClass("deleting"),c.remove(),n=!0,r.save(),!s.childNodes.length){var e=s.parentElement;e.classList.add("empty"),e.dataset.content=t.messages.getStarted}}),document.dispatchEvent(a.events.fieldRemoved),n):(console.warn("Field not found"),!1)},r}t.exports=r},{"./events.js":1,"./utils.js":6}],4:[function(e,t,a){"use strict";var r=function(){var e=function(e,t){var a={theme:"fresh",messages:{off:"Off",on:"On"}},r=$.extend(a,t),n=$('<div class="kc-toggle"/>').insertAfter(e).append(e);n.toggleClass("on",e.is(":checked"));var s='<div class="kct-on">'+r.messages.on+"</div>",o='<div class="kct-off">'+r.messages.off+"</div>",l='<div class="kct-handle"></div>',i='<div class="kct-inner">'+s+l+o+"</div>";n.append(i),n.click(function(t){e.attr("checked",!e.attr("checked")),n.toggleClass("on")})};$.fn.kcToggle=function(t){var a=this;return a.each(function(r){var n=$(a[r]);if(!n.data("kcToggle")){var s=new e(n,t);n.data("kcToggle",s)}})}};t.exports=r()},{}],5:[function(e,t,a){"use strict";function r(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof Event&&!function(){window.Event=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}}(),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var a=arguments[t];if(null!=a)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e})}t.exports=r()},{}],6:[function(e,t,a){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={};n.inArray=function(e,t){return t.indexOf(e)!==-1},n.trimObj=function(e){var t=[null,void 0,"",!1,"false"];for(var a in e)n.inArray(e[a],t)?delete e[a]:Array.isArray(e[a])&&(e[a].length||delete e[a]);return e},n.validAttr=function(e){var t=["values","enableOther","other","label","subtype"];return!n.inArray(e,t)},n.attrString=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&n.validAttr(a)&&(a=n.safeAttr(a,e[a]),t.push(a.name+a.value));return t.join(" ")},n.safeAttr=function(e,t){e=n.safeAttrName(e);var a=void 0;return t&&(Array.isArray(t)?a=n.escapeAttr(t.join(" ")):("boolean"==typeof t&&(t=t.toString()),a=n.escapeAttr(t.replace(","," ").trim()))),t=t?'="'+a+'"':"",{name:e,value:t}},n.safeAttrName=function(e){var t={className:"class"};return t[e]||n.hyphenCase(e)},n.hyphenCase=function(e){return e=e.replace(/[^\w\s\-]/gi,""),e=e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}),e.replace(/\s/g,"-").replace(/^-+/g,"")},n.camelCase=function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})},n.markup=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=void 0,o=document.createElement(e),l=function(e){return Array.isArray(e)?"array":"undefined"==typeof e?"undefined":r(e)},i={string:function(e){o.innerHTML=e},object:function(e){return o.appendChild(e)},array:function(e){for(var t=0;t<e.length;t++)s=l(e[t]),i[s](e[t])}};for(var c in a)if(a.hasOwnProperty(c)){var d=n.safeAttrName(c);o.setAttribute(d,a[c])}return s=l(t),t&&i[s].call(this,t),o},n.parseAttrs=function(e){var t=e.attributes,a={};return n.forEach(t,function(e){var r=t[e].value;r.match(/false|true/g)?r="true"===r:r.match(/undefined/g)&&(r=void 0),r&&(a[t[e].name]=r)}),a},n.parseOptions=function(e){var t=e.getElementsByTagName("option"),a={},r=[];if(t.length)for(var s=0;s<t.length;s++)a=n.parseAttrs(t[s]),a.label=t[s].textContent,r.push(a);return r},n.parseXML=function(e){var t=new window.DOMParser,a=t.parseFromString(e,"text/xml"),r=[];if(a)for(var s=a.getElementsByTagName("field"),o=0;o<s.length;o++){var l=n.parseAttrs(s[o]);s[o].children.length&&(l.values=n.parseOptions(s[o])),r.push(l)}return r},n.escapeHtml=function(e){var t=document.createElement("textarea");return t.textContent=e,t.innerHTML},n.escapeAttr=function(e){var t={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},a=function(e){return t[e]||e};return"string"==typeof e?e.replace(/["&<>]/g,a):e},n.escapeAttrs=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=n.escapeAttr(e[t]));return e},n.forEach=function(e,t,a){for(var r=0;r<e.length;r++)t.call(a,r,e[r])},n.unique=function(e){return e.filter(function(e,t,a){return a.indexOf(e)===t})},n.fieldRender=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="",s="",o="",l=e.label||"",i=e.description||"",c="",d=e.values;e.name=a?e.name+"-preview":e.name,e.id=e.name,e.multiple&&(e.name=e.name+"[]"),e.type=e.subtype||e.type,e.required&&(e.required=null,e["aria-required"]="true",c='<span class="required">*</span>'),"hidden"!==e.type&&(i&&(i='<span class="tooltip-element" tooltip="'+i+'">?</span>'),s='<label for="'+e.id+'" class="fb-'+e.type+'-label">'+l+" "+c+" "+i+"</label>");var p=e.label;delete e.label,delete e.description;var u=n.attrString(e);switch(e.type){case"textarea":case"rich-text":delete e.type;var m=e.value||"";r=s+"<textarea "+u+">"+m+"</textarea>";break;case"select":var f=void 0;if(e.type=e.type.replace("-group",""),d){e.placeholder&&(o+="<option disabled selected>"+e.placeholder+"</option>");for(var v=0;v<d.length;v++)d[v].selected&&!e.placeholder||delete d[v].selected,d[v].label||(d[v].label=""),f=n.attrString(d[v]),o+="<option "+f+">"+d[v].label+"</option>"}r=s+"<select "+u+">"+o+"</select>";break;case"checkbox-group":case"radio-group":var g=void 0;if(e.type=e.type.replace("-group",""),"checkbox"===e.type&&(e.name=e.name+"[]"),d){for(var h=void 0,b=0;b<d.length;b++)g=Object.assign({value:"",label:""},e,d[b]),g.selected&&(delete g.selected,g.checked=null),g.id=e.id+"-"+b,h=n.attrString(g),o+="<input "+h+' /> <label for="'+g.id+'">'+g.label+"</label><br>";if(e.other){var y={id:e.id+"-other",className:e.className+" other-option",onclick:"fbUtils.otherOptionCB('"+e.id+"-other')"};h=n.attrString(Object.assign({},e,y)),o+="<input "+h+' /> <label for="'+y.id+'">'+t.messages.other+'</label> <input type="text" name="'+e.name+'" id="'+y.id+'-value" style="display:none;" />'}}r=s+'<div class="'+e.type+'-group">'+o+"</div>";break;case"text":case"password":case"email":case"number":case"file":case"hidden":case"date":case"tel":case"autocomplete":r=s+" <input "+u+">";break;case"color":r=s+" <input "+u+"> "+t.messages.selectColor;break;case"button":case"submit":r="<button "+u+">"+p+"</button>";break;case"checkbox":r="<input "+u+"> "+s,e.toggle&&setTimeout(function(){$(document.getElementById(e.id)).kcToggle()},100);break;default:r="<"+e.type+" "+u+">"+p+"</"+e.type+">"}if("hidden"!==e.type){var w=e.id?"fb-"+e.type+" form-group field-"+e.id:"";r=n.markup("div",r,{className:w})}else r=n.markup("input",null,e);return r},n.otherOptionCB=function(e){var t=document.getElementById(e),a=document.getElementById(e+"-value");t.checked?(t.style.display="none",a.style.display="inline-block"):(t.style.display="inline-block",a.style.display="none")},n.capitalize=function(e){return e.replace(/\b\w/g,function(e){return e.toUpperCase()})},t.exports=n},{}]},{},[2]);