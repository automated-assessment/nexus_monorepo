<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<div class="form-group">
  <%= f.label :title, class: 'col-lg-2 control-label' %>
  <div class="col-lg-10">
    <%= f.text_field :title, class: 'form-control', required: true %>
  </div>
</div>

<div class="form-group">
  <%= f.label :description, class: 'col-lg-2 control-label' %>
  <div class="col-lg-10">
    <%= f.text_area :description, class: 'form-control', rows: '4' %>
    <p>Markdown is supported.</p>
  </div>
</div>

<div class="form-group">
  <%= f.label :teachers, class: 'col-lg-2 control-label' %>
  <div class="col-lg-10">
    <%= f.fields_for :teachers do |ff| %>
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Name</th>
            <th width="20%"></th>
          </tr>
        </thead>
        <tbody id="teachers_table">
          <% @course.teachers.each do |t| %>
            <%= render 'teacher_edit_row', f: ff, teacher: t %>
          <% end %>
        </tbody>
      </table>
      
      <div class="add-teacher">
          <%= link_to_add_association f, :teachers, partial: 'teacher_edit_row', class: 'add-teacher-link', :'data-association-insertion-method' => 'append', :'data-association-insertion-node' => '#teachers_table' do |link| %>
            <%= icon 'plus-circle' %> Add Teacher
          <% end %>
      </div>
    <% end %>
  </div>
</div>
